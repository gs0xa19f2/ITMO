# Директория `dat`

## Описание

Директория `dat` содержит тестовые программы для процессора MIPS. Эти программы представлены в формате машинного кода MIPS и используются для тестирования функциональности процессора. Каждая программа проверяет работу определённого набора инструкций или сценариев.

---

## Содержание

1. **`arith.dat`**:
   - Проверка работы арифметических операций:
     - `add`, `sub`, `and`, `or`, `slt`.
   - Пример:
     ```
     add $s2, $s1, $s0
     sub $s3, $s1, $s0
     and $s4, $s1, $s0
     or $s5, $s1, $s0
     slt $s6, $s1, $s0
     ```

2. **`memory.dat`**:
   - Проверка операций чтения и записи в память:
     - `lw`, `sw`.
   - Пример:
     ```
     lw $t1, 0($t0)
     sw $t4, 4($t0)
     ```

3. **`branch.dat`**:
   - Проверка работы условных переходов:
     - `beq`, `bne`.
   - Пример:
     ```
     beq $s0, $s1, label
     bne $s0, $s1, label
     ```

4. **`hello_world.dat`**:
   - Загрузка ASCII строки "Hello world!" в память.
   - Используются команды: `addi`, `sw`, `beq`, `j`.

5. **`comparch_is_cool.dat`**:
   - Генерация строки "CompArch is coool! :D" в памяти.
   - Используются команды: `add`, `sub`, `and`, `addi`, `andi`, `sw`, `beq`, `j`.

6. **`jump.dat`**:
   - Проверка работы инструкций безусловного перехода:
     - `j`, `jal`.

7. **`jr.dat`**:
   - Проверка работы инструкции перехода на адрес из регистра:
     - `jr`.

8. **`bne1.dat`**:
   - Дополнительный тест для проверки работы `bne`.

9. **`bne2.dat`**:
   - Дополнительный тест для проверки работы `bne`.

---

## Использование

### Загрузка программы в память инструкций
Для загрузки тестовой программы в память инструкций необходимо изменить файл, указанный в модуле `instruction_memory` (по умолчанию используется `hello_world.dat`):
```verilog
initial begin
    $readmemb("dat/hello_world.dat", ram);
end
```

### Запуск программы
Скомпилируйте и запустите тест процессора:
```bash
iverilog -o cpu_test cpu_test.v mips_cpu.v memory.v register_file.v d_flop.v util.v
vvp cpu_test
```

---

## Пример вывода

После выполнения программы, результат записывается в память данных или регистры. Пример вывода для программы `hello_world.dat`:
```
Addr:      0, value:  72  // 'H'
Addr:      4, value: 101  // 'e'
Addr:      8, value: 108  // 'l'
Addr:     12, value: 108  // 'l'
Addr:     16, value: 111  // 'o'
Addr:     20, value:  32  // ' '
Addr:     24, value: 119  // 'w'
Addr:     28, value: 111  // 'o'
Addr:     32, value: 114  // 'r'
Addr:     36, value: 108  // 'l'
Addr:     40, value: 100  // 'd'
Addr:     44, value:  33  // '!'
```
